@using HITSBlazor.Services.Service.Interfaces
@inject IAuthService AuthService
@inject NavigationManager Navigation

@code {
    protected override async Task OnInitializedAsync()
    {
        await AuthService.InitializeAsync();

        if (!AuthService.IsAuthenticated &&
            !Navigation.Uri.Contains("/login") &&
            !Navigation.Uri.Contains("/register"))
        {
            Navigation.NavigateTo("/login");
        }

        await base.OnInitializedAsync();
    }
}