@using HITSBlazor.Components.Button
@using HITSBlazor.Services
<PageTitle>Регистрация</PageTitle>

<div class="page-layout">
    <div class="page-layout__content-wrapper w-100 overflow-y-scroll">
        <div class="page-layout__content page-layout__content--no-header register-page__content">
            <form @onsubmit="HandleRegister" @onsubmit:preventDefault="true" class="form-layout p-3 rounded-3 shadow">
                <span class="fs-3 text-primary text-center">Регистрация</span>

                <div class="input-group">
                    <span class="input-group-text fs-6">&#64;</span>
                    <input type="text"
                           @bind="@registerModel.Email"
                           @bind:event="oninput"
                           class="form-control"
                           placeholder="Введите email"
                           disabled="@IsEmailDisabled" />
                </div>

                <div class="input-group">
                    <span class="input-group-text fs-6">
                        <i class="bi-fonts" style="@Styles.Bi"></i>
                    </span>
                    <input type="text"
                           @bind="registerModel.FirstName"
                           @bind:event="oninput"
                           class="form-control"
                           placeholder="Введите имя" />
                </div>

                <div class="input-group">
                    <span class="input-group-text fs-6">
                        <i class="bi-fonts" style="@Styles.Bi"></i>
                    </span>
                    <input type="text"
                           @bind="registerModel.LastName"
                           @bind:event="oninput"
                           class="form-control"
                           placeholder="Введите фамилию" />
                </div>

                <div class="input-group">
                    <span class="input-group-text fs-6">
                        <i class="bi-telephone" style="@Styles.Bi"></i>
                    </span>
                    <input type="tel"
                           @bind:get="phoneInput"
                           @bind:set="HandlePhoneInput"
                           @bind:event="oninput"
                           inputmode="numeric"
                           class="form-control"
                           placeholder="+7 (___) ___-__-__"
                           maxlength="18" />
                </div>

                <div class="input-group">
                    <span class="input-group-text fs-6">
                        <i class="bi-people" style="@Styles.Bi"></i>
                    </span>
                    <input type="text"
                           @bind="registerModel.StudyGroup"
                           @bind:event="oninput"
                           class="form-control"
                           placeholder="Введите номер группы" />
                </div>

                <div class="input-group">
                    <span class="input-group-text fs-6">
                        <i class="bi-key" style="@Styles.Bi"></i>
                    </span>
                    <input type="password"
                           @bind="registerModel.Password"
                           @bind:event="oninput"
                           class="form-control"
                           placeholder="Введите пароль" />
                </div>
                <button type="submit" disabled="@isLoading"
                        class="btn d-flex btn-primary" style="@Styles.Btn">
                    @if (isLoading)
                    {
                        <span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                        <span>Регистрация...</span>
                    }
                    else
                    {
                        <span>Зарегистрироваться</span>
                    }
                </button>
            </form>
        </div>
    </div>
</div>